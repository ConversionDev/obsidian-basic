
- 맨 처음에는 Stream 상태로 시작. 변하는 세상이므로
- 인간은 파이프라인으로 연결하고 싶어. 인스턴스로 만들어서 주겠다는 뜻
	- GPT) aws의 리전에는 몇개가 있어?

- GPT) JPA에서 엔티티를 생성중인데 @Column 은 삭제해도 될까? 참고로 21버전이야

- @NoArgsConstructor :  추가하고싶을 때, 수정하고싶을 때, 카페에서 만드는 커피, 게터와 세터가 있어야 돼
- @AllArgsConstructor: 다 담아서 나오는 레쓰비, 수정하면 안돼, 게터만 있어야 돼
--------------
### Entity 클래스 구조 예시

```
package com.elianayesol.api.energy.domain;

import jakarta.persistence.Entity;
import jakarta.persistence.Table;
import jakarta.persistence.Id;
import lombok.Data;

@Entity
@Table(name = "energys") // 실제 DB 테이블 이름
@Data // 일단 오류 방지를 위해 넣지만, 나중에 제거 예정
public class EnergyEntity {
    @Id
    private long id; // 엔티티의 기본키 (Primary Key)

    private String corporateName;
    private String supervisingAuthority;
    private String designationType;
    private String industry;
    private String ghge;
    private String energy;
    private String verification;
}
```

**@Table(name = "energys")**
- 컨트롤러의 경로(`/energys`)와 맞추기 위해 ‘s’를 붙임
- HTML의 URL(`/energy`)과 구분하기 위해서
- DB 안에는 여러 테이블이 있을 수 있으므로 종착지를 명확히 지정

- Entity 만들기
	- @Data는 나중에 삭제할거임. 오류경고 떠서 일단 넣어주기
	- @Entity랑 @Table 넣어주고, 경로에 s 추가해줌. 컨트롤러에서도 경로에 s 붙여줘서 매핑했으니까
		- 오류뜨면 클로드에 프롬프트 주기: @EnergyEntity.java 여기에서 발생한 에러를 잡기위해 @build.gradle 여기에 의존성을 추가해줘. 그리고 에러를 잡아줘
		- 그래들에 다음 내용 추가 됨. 
			    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'  //엔티티 시작할 때 추가한 것
			    -----
			    runtimeOnly 'org.postgresql:postgresql'
- application.properties 를 .yml로 바꿔야해
	- `application.properties` → `application.yml`로 변경
	- 왜 YAML로 바꾸나요?
		- 들여쓰기 구조라서 **보기 쉽고 직관적**
		    
		- Spring Boot 최신 버전에서는 `.yml`이 더 많이 사용됨
----------
- (클로드한테 프롬프트 주기: @application.properties 이것을 yaml로 변경해줘)
	- 클로드에 프롬프트 주기:   @application.yml 여기에
		spring:  
		datasource:  
		url: jdbc:postgresql://localhost:5432/esgaidadb  
		username: esgaida  
		password: 비밀번호  
		driver-class-name: org.postgresql.Driver  
		jpa:  
		hibernate:  
		ddl-auto: update  
		properties:  
		hibernate:  
		dialect: org.hibernate.dialect.PostgreSQLDialect  
		show-sql: true  
		이 코드를 이 프로젝트에 맞게 커스텀 해줘.
	- 위에 내용은 지피티한테 다음과 같이 물어봤음
	- 현재 db는 esgaidadb 이고, id 는 esgaida야. 이 db는 도커 안에 있어. 사진처럼 있고 \d를 하면 energys는 없어. package com.elianayesol.api.energy.domain; import jakarta.persistence.Entity; import jakarta.persistence.Table; import jakarta.persistence.Id; //import jakarta.persistence.Column; >>> 이거는 테이블의 스키마 집합인 컬럼명과 엔티티의 필드명이 다른 경우 쓰는 건데, 안쓰는게 좋은거지 귀찮앙 @Entity @Table(name = "energys") //경로에 s 추가해줌. 컨트롤러에서도 s 붙여서 매핑해줬으니까 public class EnergyEntity { private String corporateName; private String supervisingAuthority; private String designationType; private String industry; private String ghge; private String energy; private String verification; } 이 프로젝트를 실행했을 때 energys 테이블이 자동으로 생성되는 과정을 알려줘
- keep all 때리고 비밀번호 칸에 Esgaida0930! 으로 수정하기
- yaml 야물? 에서 아래 사진 위치에 있던 mvc 지우기
	![[Pasted image 20251104095821.png]]
- 엔티티에 @Id private long id;   > 넣어주기
-  @GeneratedValue(strategy = GenerationType.IDENTITY) : id 자동으로 주는 거
		![[Pasted image 20251122140643.png]]

---------------------

| 명령                             | 의미                |
| ------------------------------ | ----------------- |
| `\dt`                          | 테이블 목록 보기         |
| `\d energys`                   | energys 테이블 구조 보기 |
| **d** → 시퀀스 포함, **t** → 테이블 목록 |                   |

- 시퀀스(sequence)는 **키메이커(자동 번호 생성기)** 역할!
- 도커 컨테이너 접속
	docker exec -it esgaida psql -U esgaida -d esgaidadb
- 테이블 목록 보기
	역슬래시 \dt

-------

- 파이프라인 연결할 때 아래 사진처럼 로그북 아니고 스프링프레임워크로 임포트 잘 해야돼
	![[Pasted image 20251103102702.png]]

--------------
- 프로젝트 폴더에 있던 거 다 프로젝트 밖으로 꺼내두기 ![[Pasted image 20251103153940.png]]

