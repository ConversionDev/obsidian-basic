- ai 에서 requirements.tsx 만듦. 이것은 api에서 build.gradle과 같음
	- (자바에서는) 그레들은 상속때문에 루트부터 쭉 내려가야해서 만들어야 하는 파일이 많지만 / (파이썬에서는) requirements.tsx만 있으면 돼
	- 깃 이그노어는 파이썬도 필요함!
- 자바에서 루트 빌드그레들에 있는 디펜전시스만 파이썬으로 넘어가고, 뒤에 분혹색들만 씀. 뒤에 룸북같은것도 안씀(' ' 로 묶인 것)
- 파이썬은 env파일 안 씀.
- 리액트는 라이브러리 = 자바는 디펜전시 = 파이썬은 패키지
	- 최종) 자바는 빌드그레들에서 디펜전시를 관리했다면 / 파이썬은requirements.tsx 에서 패키지를 관리한다는 것

-----
- clawler-service 만듦. (크롤링)
- 자바에서 FastAPI app = new FastAPI( ) 파이썬에서 app = FastAPI( ) 과 같은 것임
	- APP 이 인스턴스
	- 타입과 NEW 를 지움
- 어노테이션이 자바에서는 데코레이션패턴이었음. 파이썬에서는 어노테이션을 데코레이터라고 함
- 자바에서 getmapping, putmapping, postmapping 등 매핑이 붙는 모든걸 파이썬에서는 지움. 파이썬에서는 get/put/post 만 씀
- fastAPI 는 무조건 비동기. 그래서 어씽크를 쓴다는건데, 생략하지 않고 어씽크를 썼네? 디폴트값은 아니라는 말이긴 함
- 파이썬에서 각 마이크로서비스마다 컨테이너가 분리되어야하니까, 루트에 있던 도커랑 리콰이어먼츠 복사해서 각 마이크로서비스마다랑 게이트웨이에 넣어줌
- 마이크로서비스마다 app 폴더 만들어서 main.py 넣어줌. 안에 있는 '안녕파이썬'에 해당하는 get 데코레이터 부분은 다 지워줌
- 자바에서 apiapplication.java 에서 기본구조 써놓고, application.yaml에서 라우팅 기능을 함. (컨피그 밑에 많은 파일에서 @Bean 으로 해뒀었는데 application.yaml 에 합쳤던거지.)
	- 파이썬에서는 야물을 만들지 않고 main.py 안에서 작성함
	- 게이트웨이에 있는 라우터가 메인라우터, 서비스마다 있는 라우터는 서브라우터임
- 게이트웨이 안에 있는 main 설정하기
	- @main.py 여기에 메인라우터를 생성해줘
	- @main.py CORS 설정을 해줘
- 게이트웨이 main과 크롤러의 main을 연결할래.
	- @main.py (크롤러 main) 여기에 서브라우터를 생성하고 @main.py (게이트웨이 main) 이 메인라우터와 연결을 해줘.

*스크립트 수정한 뒤에는 컴포즈다운하고 이미지까지 지워서 캐시 자체를 지워달라고 커서한테 말해야 함. 그래야 수정된 게 보임*

@docker-compose.yaml 여기에 @clawlerservice 컨테이너로 등록해줘
잔뜩 수정함

- GPT) 크롤링이란 무엇이고, 파이썬 라이브러리는 무엇이며 종류는 몇가지인가?
	- 웹(거미줄), 브라우저(거미), 거미가 기어다니는 걸 크롤링이라고 하는 것
	- HTML로 만들면 정적크롤링이고 리액트로 만들면 동적크롤링이래. 그래서 SPA로 만들면 다 동적이라는데 무슨말이야?
		![[Pasted image 20251127124319.png]]

### 크롤링서비스 패키지 추가 및 수정

- 크롤러서비스 밑에 폴더 및 파일을 아래와 같이 수정
![[Pasted image 20251127125359.png]]
- url 아니라 uri까지 보이는 주소를 커서한테 줘야 함. (목록에서 더보기를 누르고 url 눌러야 보임), f12로 차트부분 눌러서 아래 사진부분 찾음
		![[Pasted image 20251127131447.png]]
	- 사진이랑 같이 프롬프트 주기 CURSOR) @bugsmusic.py여기에 bs4로 정적크롤링을 하려고 해. https://music.bugs.co.kr/chart/track/realtime/total?wl_ref=M_contents_03_01 여기에서 이 컴포넌트에서 사진에 있는 테이블 안에 있는 클래스가 title, artist, album의 로우값을 json 형태로 터미널에서 출력하는 전략을 작성해줘.

----
### 포스트맨 다운 및 설정
- 포스트맨 new 개인 도메인 이름으로. get 로 함.
@main.py 여기에서 @bugsmusic.py 이것을 uri로 등록해서 /crawler/bugsmusic 을 POSTMAN 에서 GET 방식으로 요청하면 실행되도록 라우팅을 추가해줘.


-  셀리니움 vs BS4??
- 사진을 셀리니움으로 작성하는 코드를 알려줘

-----
### 셀리니움버전으로 실습
https://prod.danawa.com/list/?cate=11254120
- 가격비교 제품 리스트 목록을 보여주는 class 부분하고, 내가 보고싶은 정보가 보이는 부분의 class 를 둘 다 캡쳐해야 함
- @danawa.py 여기에 selenium로 동적크롤링을 하려고 해. https://prod.danawa.com/list/?cate=11254120 여기에서 사진에 있는 리스트 안에 있는 클래스가 이 가격의 목록을 제이슨으로 추출해줘
		![[Pasted image 20251127152926.png]]![[Pasted image 20251127152941.png]]

-----
- 너무 긴 버전.. ![[Pasted image 20251127125126.png]]

--------------
#### 파이썬의 기본구조 (유지되어야 할)
from fastapi import FastAPI
import uvicorn

app = FastAPI(
    title="Gateway API",
    description="Gateway 서비스 API 문서",
    version="1.0.0"
)

  
  
  

if __name__ == "__main__":

    uvicorn.run(app, host="0.0.0.0", port=9000)



----
- 역사
	- 파이썬과 자바는 한자와 한글같은 관계가 되었으나 파이썬은 객체지향이 아니라는 치명적인 점이 있음
	- 안드로이드는 코틀린, 구글은 자바에서 파이썬으로 바꾸는 중 (끝났나?) -->파이썬 3 는 아무 법인이 없음
	- 오라클에서 자바를 인수. 자바의 몰락