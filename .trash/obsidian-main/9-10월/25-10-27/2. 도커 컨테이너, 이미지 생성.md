- 커서에서 뉴 터미널 열기
- 도커 데스크탑 실행한 뒤에 터미널에 입력할 것
- 생성할 때는 이미지부터 만들고 컨테이너를 만들지만, 삭제할 때는 컨테이너부터 삭제하고 이미지를 지워야해
- 이미지가 있는 이유는 타입이 있어야 실존하는 구조를 만들 수 있으니까 
	= 이미지는 컨테이너가 있게 하기 위해서 

- 1단계
	- docker pull postgres:15
- 2단계
	- docker run -d --name esgaida --restart unless-stopped -e POSTGRES_USER=esgaida -e POSTGRES_PASSWORD=Esgaida0930! -e POSTGRES_DB=esgaidadb -p 5432:5432 -v pgdata:/var/lib/postgresql/data --health-cmd="pg_isready -U app" --health-interval=10s --health-timeout=5s --health-retries=5 postgres:15
- 3단계
	- docker ps -a

(ps: 프로세스를 뜻함. 지금 실행하는 모든 걸 보여줘라 라는 뜻)

- 아래와 같이 컨테이너가 생성됨

![[Pasted image 20251027115011.png]]
	- 팀 정보
		name : esgaida  
		USER : esgaida  
		PASSWORD : Esgaida0930!  
		DB : esgaidadb

*도커에서 지울 때는 컨테이너를 먼저 지우고 이미지를 지우는 순서로 해야 함 (생성 때랑 반대로)

- 4단계: 컨테이너 안으로 들어오기
	docker exec -it esgaida bash
-  5단계 
	psql -U esgaida -d esgaidadb
	아래처럼 뜨면 db에 들어갔다는 뜻
	![[Pasted image 20251027121827.png]]
- 6단계: 도커 컨테이너 안에 포스트그리 의 비번을 변경하는 명령어
	ALTER USER esgaida WITH PASSWORD 'Esgaida0930!';
- 7단계



- ==만들어져있는 테이블 리스트 보기 위해서==
	docker exec -it esgaida bash
	psql -U esgaida -d esgaidadb
	docker ps
	역슬래시 \dt

d는 시퀀스까지, t는 테이블까지0
시퀀스=키메이커
docker exec -it esgaida psql -U esgaida -d esgaidadb
역슬래시 \dt

select * from stadiums;

d 누르고 방향키 올라갔다 내려갔다 하면 히스토리 보여줌

ALTER TABLE public.stadiums
	ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY;


ALTER TABLE players DROP COLUMN team_id;
ALTER TABLE teams  DROP COLUMN stadium_id;
ALTER TABLE teams  DROP COLUMN team_id;

ALTER TABLE schedules RENAME COLUMN awayteam_id TO awayteam_uk;
ALTER TABLE schedules RENAME COLUMN hometeam_id TO hometeam_uk;
ALTER TABLE schedules RENAME COLUMN stadium_id TO stadium_uk;
