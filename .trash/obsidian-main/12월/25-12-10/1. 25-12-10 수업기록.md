- IT(오타 못 알아 들음) --> AI(오타 알아 들음)
#### 국내 자료로 실습: 구별 cctv 할당
- 매년 쓸 자료니까 다 변수처리 해 둬야 좋겠지? 일회용이 아니라
- 해당 문제는 답이 없는 비지도임 -->     _id: str = '' 랑  _label: str = ''지움
 -  구별 검거율, 범죄 발생률, cctv 수, 구별 인구수
	- 범죄율이 높은데 검거율이 낮은 곳을 찾아야 적당하고, 현재 cctv 현황까지 봐야하는 상황
	- https://data.seoul.go.kr/dataList/316/S/2/datasetView.do
	- 다음 파일 다운 받음 - 5대 범죄 발생현황, 서울시 자치구 연도별 CCTV 발생현황, 서울시 구별 등록 인구
	- 다음과 같이 초기 구조 
		- 데이터 파일 이름은 각각 pop, cctv, crime으로 바꿈
			![[Pasted image 20251210095546.png]]
		- seoul_crime 밑에 save 폴더 만들어. --> 데이터 파일에서 sname에 해당
			- data 폴더에서 저장하는 게 --> dname
		- CURSOR) @ai.aifixr.site/mlservice/app/seoul_crime/seoul_data.py 여기에서 @seoul_data.py (38-52) 이것을 @seoul_data.py (10-12) 이 피처에 맞게 수정해줘
		- CURSOR) @data 이 폴더의 절대경로를 _dname: str = '' # data path 여기에 상수로 저장해줘 
		- CURSOR) @save 이 폴더에 대한 절대경로를 _sname: str = '' # save path여기에 위와 같은 형식으로 작성해줘

##### 메소드 파일부터
- 로깅은 타이타닉 서비스에서 갖고 왔고
- 다음 사진처럼 초기 구성 갖춤. 타이타닉 메서드에서 긁어서 약간만 수정
	![[Pasted image 20251210104131.png]]


- 서비스에서 ds 에서 df로 바꾸고 라우터를 통해서 포스트맨에서 확인 8080에서 봐야 넥스트랑 그대로 연결하기 쉬움

- 상위 5개 보기
	- api/seoul/cctv-5
	- api/seoul/crime-5
	- api/seoul/pop-5

- CCTV와 인구 데이터 머지 --> MD 파일 참고
	- @ai.aifixr.site/mlservice/app/seoul_crime/data/cctv.csv , pop.xls 에서 두 개의 df 를 서로 머지하려고 해. 중복된 feature 가 없이, pop에서는 자치구 , cctv 에서는 기관명을 키로 해서 머지하는 전략을 작성해줘. 지금은 실행하지말고 전략만 작성하는 거야

- SONET) 이제 @ai.aifixr.site/mlservice/app/seoul_crime/data/crime.csv 여기에서 관서명을 보고, 이전에 구글키를 받았었으니, 구글맵을 활용해서 관서명의 주소를 확인해서 자치구 이름이 확인해서, 최종적으로는 관서명을 보고 어느 구에 해당하는지 찾아내서, '자치구'컬럼을 crime.csv의 상위5개만 보던 df에 하나 추가하고싶어. 나중에 현재 @ai.aifixr.site/mlservice/app/seoul_crime/data/cctv.csv 랑 pdpop.xls 머지한 결과에 자치구 컬림이 포함된 crime df 를 또 머지시킬거거든. 이 과정에 대해서 너가 전략을 세워주고, 특히 구글맵을 활용하는 부분에 대해서는 내가 잘 모르겠으니까 쉽고 자세하게 과정을 설명해줘. 구글맵 api를 갖고오는 건지? (이 방식이 맞는건지 나는 몰라) 현재 .env 파일 안에 GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET 는 받아둔 상태야.

- 주소 갖고오는 메서드
	- geocode : 위도경도 갖고와야 주소 갖고올 수 있음


- cctv = cctv.drop(['2013년도 이전','2014년','2015년','2016년'], axis=1, inplace=True)
- # axis= 1 방향으로 자치구와 좌로부터 4번째 컬럼만 남기고 모두 삭제
- # axis= 0 방향으로 행 방향으로 위로부터 2,3,4번째 행을 삭제
- 이 주석대로 실행해줘



![[Pasted image 20251210154340.png]]