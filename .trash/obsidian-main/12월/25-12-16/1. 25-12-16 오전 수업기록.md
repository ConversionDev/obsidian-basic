- 어제 랭체인 다운로드해서 폴더만 만들어졌고 활용은 안 했음

- GPT) 랭체인에서 Ship reliable agents 뜻은 뭐야?
	- 기존에 우리가 배웠던 체인 : 파이프라인 : 디자인패턴 중 책임연쇄
	- 자바에서는 파이프라인, 랭체인에서는 체인이라고 함
	- ship: 진수하다(배를 띄우는 일) <-> 배포
	- reliable: 신뢰할 수 있는
	- 완성품으로 배포한 거라 고칠 수 없음
	- 랭체인은 프레임워크긴 하지만 내장된 라이브러리가 많아서 플랫폼이라고 함
	- 그래도 우리가 추가적으로 라이브러리 설치해야하긴 함


## 최종 비교



## Part 1. LangChain 기초

- DB가 있어야 체인이다. 인풋도 있어야 한다(인풋을 프롬프트라고 정의함)

2. LLM 체인 만들기 LLMChain
- 체인을 실행하는 방법
	- 랭체인의 runnable 프로토콜은 사용자가 사용자 정의 체인을 쉽게 생성하고 관리할 수 있도록 설계된 핵심적인 개념
	- 리액트에서 컴포넌트 = 객체, 컨테이너 = ?, 파이프라인 구성한다면 DB를 설치해야 하는 것
	- runnable 프로토콜은 주요 메소드를 아래와 같이 제공함. 우리가 만드는 것 아님
		- 인보크의 복수 = 배치
		- 스트림은 실시간
		- 우리가 지피티한테 여러개 물어봐도 답변 글은 하나이기때문에 인보크임. 우리는 살명서 배치를 본 적이 없음
			![[Pasted image 20251216095731.png]]


2. x
3. 프롬프트
	- Few-shot Prompt
		- shot = 집어넣는 데이터. few니까 많지 않은 데이터를 뜻함

4. LangChain의 언어모델
	- 코엘렉트라 = LM / LangChain은 LLM
		- 언어모델은 트랜스포머의 후예들임. 트랜스포머는 객체이니까 기능과 속성을 갖고있어야 함. y=wx + b --> 이 식이 기능.
		- 트랜스포머로 된 모델을 LM 으로 정의
		- 랭체인의 언어모델은 LLM. LM을 여러 개 모은 것
		- LM 까지는 fast api 로 됐지만 LLM부터는 불가능해서 새로운 프레임워크가 나온 것  = Langchain
	- Chat Model
		- **Chat Model** 클래스는 랭체인에서 중요한 구성 요소로, 대화형 메시지를 입력으로 사용하고 대화형 메시지를 출력으로 반환하는 특수화된 LLM 모델입니다. 이는 일반 텍스트를 사용하는 대신 대화의 맥락을 포함한 메시지를 처리하며, 이를 통해 보다 더 자연스러운 대화를 가능하게 합니다.

## Part 2. RAG (Retrieval-Augmented Generation) 기법

- [블로그]() 참고
- 기존 LLM(GPT 같은 모델)의 한계부터 보면 이해가 쉬워.
- 기존 LLM의 한계
	- 학 “그럴듯하게” 지어내는 환각(Hallucination) 발생 가능
	- **RAG는 이 문제를 “검색 + 생성”으로 해결**
- 기억력은 외부 문서에게 맡기고, 사고력은 LLM에게 맡긴다
	- **외부 지식**: PDF, 보고서, 사내 위키, 법령, ESG 보고서 등
	- **LLM**: 그 자료를 읽고, 요약하고, 답변 생성
	
- 내 프로젝트에서 class 폴더가 search, langchain 폴더가 Retrieval
- search DB랑 Retrieval DB(=벡터 DB라고 부름)랑 따로 있음
- Retrieval은 거짓말을 할 수 있음. search는 없으면 없다 하지 주구절절 길지 않아
- GPT는 Retrieval
- Retrieval=가져오는 것, Augmented = 강화, Generation = 생성
- 그럼 Retrieval-Augmented = 검색 강화
- 결국 RAG는 검색한 부분 중 발췌한 부분을 사용자 맞춤형으로 강화해서 생성하는 것임
- RAG 프레임워크 = 랭체인
- 프롬프트는 레그, 쿼리는 서치
	![[Pasted image 20251216111054.png]]
- 래그는 시스템, 개발하는 건 리트리벌을 개발한다고 함


??? 랭체인에서 스토어가 디비다?

 
5. 크로마
	- 설치가 쉽지만 대규모에는 한계가 있음

6. RAG - Retriever
	- Retrieval Augmented Generation (RAG)에서 **검색도구(Retrievers)** 는 벡터 저장소에서 문서를 검색하는 도구입니다.



- 크로마 - 파이쓰 - pgvector
	- 크로마: 설치가 쉽지만 대규모에는 한계가 있음
	- 파이스: 장점 대규모 가능하지만 메타데이터, crud 직접 구현 필요. 리트리버 하려면ㅅ ㅏ람이 손 많이 대야해
	- pgvector: 크로마보다 설정이 복잡하고 서치기능(순수검색)이 떨어짐. 포스트그리 그대로 갖고와도 되고, 보안때문에 2세대로 제한걸면서 왔다갔다 하는거 가능
	- 결국 최종적으로는 pgvector 사용

- 올라마-라마
	- LLaMA** = 메타(Meta)가 만든 **대형 언어 모델(LLM)**
	- **Ollama** = LLaMA 같은 모델을 **로컬 PC에서 쉽게 돌리게 해주는 실행기 / 런타임 =allLama
	- PromptTemplate = 컨트롤러. 화면에서 넘어온 질문 바로 담고 있음
	- 라마 모델 담는 통을 올라마라고 함. 라마모델만 담을 수 있고 GPT는 못 담음

- 비어있는 랭체인과 pgvector 를 연동하고싶어, pgvector를 다운받아서 설치하는 과정을 쉽고 자세하게 알려줘


- 트렌스포머 쓰는 순간 파이토치 위에서 쓴다고 생각해
