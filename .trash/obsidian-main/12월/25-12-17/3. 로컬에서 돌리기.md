알겠습니다. 도커 없이 로컬에서 실행하려면 아래 순서로 진행하세요.

1) 환경 변수 설정

- PowerShell 예시:
    
    $env:POSTGRES_CONNECTION_STRING = "postgresql://neondb_owner:npg_5gUtKvmle0MI@ep-restless-surf-a1aft67h-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require"
    
    $env:USE_MIDM = "1"              # Mi:dm 쓸 때
    
    # $env:MIDM_PATH = "C:\Users\hi\Documents\class-fullstack\rag\backend\app\model\midm"  # 기본 경로면 생략 가능
    

- OpenAI를 쓰고 싶으면 OPENAI_API_KEY만 추가, midm을 끄려면 USE_MIDM을 비우거나 0으로 설정.

2) 의존성 설치 (가상환경 활성화 후)

pip install -r backend/requirements.txt

3) 서버 실행

uvicorn backend.app.main:app --host 0.0.0.0 --port 8000

(또는 python -m backend.app.main)

4) 프론트는 기존처럼 3000번에서 백엔드 http://localhost:8000/api/chat을 호출하면 됩니다.

주의 사항

- 네온 DB URL은 SSL 필수(sslmode=require, channel_binding=require). psycopg2-binary는 이미 requirements에 있습니다.

- Mi:dm 사용 시 로컬 모델 경로가 환경 변수로 지정되었는지 확인하고, 메모리 여유가 있는지 점검하세요.

추가 조정이 필요하면 알려주세요.