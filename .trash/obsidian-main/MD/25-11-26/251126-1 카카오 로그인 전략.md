더미데이터 반영된 터미널 내용 긁어주면서 --> 지금은 더미 값으로 무조건 성공시켰지만, 이제는 카카오에서 인증을 하고싶어. 현재 env 파일에는 KAKAO_REST_API_KEY, KAKAO_ADMIN_KEY, KAKAO_REDIRECT_URI 가 등록되어있어. 인증에 필요한 값이 더 있는지와 카카오 인증을 하기위한 전략을 제안해줘 

카카오 인증을 구현하기 위한 전략을 제안합니다.

## 현재 상황 분석

**보유 중인 환경 변수:**
- `KAKAO_REST_API_KEY`: 카카오 REST API 호출용 키
- `KAKAO_ADMIN_KEY`: 카카오 관리자 API 호출용 키 (선택적)
- `KAKAO_REDIRECT_URI`: OAuth 인증 후 리다이렉트될 URI

## 카카오 OAuth 2.0 인증 플로우

### 1단계: 인가 코드 받기 (프론트엔드)
```
https://kauth.kakao.com/oauth/authorize?
  client_id={KAKAO_REST_API_KEY}&
  redirect_uri={KAKAO_REDIRECT_URI}&
  response_type=code
```

### 2단계: 토큰 받기 (백엔드)
인가 코드로 액세스 토큰 요청:
```
POST https://kauth.kakao.com/oauth/token
```

### 3단계: 사용자 정보 조회 (백엔드)
액세스 토큰으로 사용자 정보 요청:
```
GET https://kapi.kakao.com/v2/user/me
```

## 필요한 추가 환경 변수

현재 환경 변수로 충분하지만, 선택적으로 추가할 수 있는 것들:

```env
# 필수 (이미 보유)
KAKAO_REST_API_KEY=your_rest_api_key
KAKAO_REDIRECT_URI=http://localhost:3000/auth/kakao/callback

# 선택적 추가
KAKAO_CLIENT_SECRET=your_client_secret  # 보안 강화 시 사용 (선택)
KAKAO_ADMIN_KEY=your_admin_key  # 이미 보유 (관리자 API용)
```

**참고:** `KAKAO_CLIENT_SECRET`은 카카오 개발자 콘솔에서 "보안" 탭에서 활성화해야 사용 가능합니다. 없어도 인증은 가능합니다.

## 구현 전략 제안

### 전략 1: 간단한 구현 (권장 - 빠른 시작)

**장점:**
- 구현이 간단하고 빠름
- 카카오 공식 문서와 일치
- 디버깅이 쉬움

**구조:**
```
프론트엔드 (Next.js)
  ↓ 1. 카카오 로그인 버튼 클릭
  ↓ 2. 카카오 인증 페이지로 리다이렉트
  ↓ 3. 사용자 로그인 후 redirect_uri로 code 전달
  ↓ 4. code를 백엔드로 전송
백엔드 (AuthService)
  ↓ 5. code로 카카오 토큰 요청
  ↓ 6. 토큰으로 사용자 정보 조회
  ↓ 7. 자체 JWT 토큰 발급 (또는 카카오 토큰 그대로 사용)
  ↓ 8. 프론트엔드로 토큰 반환
```

**필요한 변경사항:**
1. `KakaoController.java`에 실제 카카오 API 호출 로직 추가
2. `WebClient` 또는 `RestTemplate`로 HTTP 요청
3. 환경 변수 주입

### 전략 2: Spring Security OAuth2 Client 사용

**장점:**
- Spring Security의 표준 OAuth2 지원
- 세션 관리, 토큰 갱신 자동 처리
- 보안 기능 내장

**단점:**
- 설정이 복잡함
- 현재 구조와 맞지 않을 수 있음
- Gateway와의 통합 복잡

### 전략 3: 하이브리드 (권장 - 확장성)

**장점:**
- 간단한 구현 + 확장 가능
- 나중에 Google, Naver도 쉽게 추가
- 토큰 관리 유연

**구조:**
```
1. 프론트엔드: 카카오 인증 페이지로 리다이렉트
2. 카카오: 인증 후 code 반환
3. 프론트엔드: code를 백엔드로 전송
4. 백엔드:
   - KakaoService: 카카오 API 호출 (토큰, 사용자 정보)
   - AuthService: 자체 JWT 토큰 발급
   - UserService: 사용자 DB 저장/조회
5. 프론트엔드: JWT 토큰으로 인증 유지
```

## 추천 구현 순서

### Phase 1: 카카오 인증만 구현 (전략 1)
1. `KakaoService.java` 생성
2. 카카오 토큰 요청 메서드
3. 카카오 사용자 정보 조회 메서드
4. `KakaoController.java` 수정

### Phase 2: 자체 JWT 토큰 발급 (선택)
1. JWT 라이브러리 추가 (jjwt)
2. `JwtService.java` 생성
3. 액세스/리프레시 토큰 발급

### Phase 3: 사용자 DB 저장 (나중에)
1. User 엔티티 생성
2. UserRepository 생성
3. 카카오 ID로 사용자 조회/생성

## 즉시 구현 가능한 코드 제안

**필요한 파일:**
1. `KakaoService.java` - 카카오 API 호출
2. `KakaoController.java` 수정 - 실제 인증 로직
3. `application.yaml` 수정 - 환경 변수 주입
4. `build.gradle` 수정 - WebFlux 의존성 확인

어떤 전략으로 진행할까요? 

**추천: 전략 1 (간단한 구현)** 또는 **전략 3 (하이브리드)**를 선택하면 바로 코드 작성을 시작할 수 있습니다.