- 스프링 클라우드 게이트웨이를 에지 서버로 사용하는 방법, 즉 마이크로 서비스 기반 시스템 환경의 <u>공개 API를 제어</u>한다
- 에지서버가 유레카였는데 클라우드 서버로 바뀌었다. 
- 넷플릭스에서 더이상 유레카를 지원하지 않는다 -> <u>에지 서버(유레카)를 제거</u> 한다.  
- 예전에는 같이 썼는데 요새는 같이 안씀. 
- 단순 속성 값은 application.yaml에 정의한다.
- 야물에 라우팅 규칙을 지정하는 것이 편리하다.
  ![[Pasted image 20251126103942.png]]
- uri : lb는 예전 방식. -> lb를 안쓰게 막아둠
- swagger도 이렇게 쓰게 바뀜
- ![[Pasted image 20251126104116.png]] 
- API 접근 보안
- 마이크로 서비스로 API로 만들 예정.
- HTTPS를 사용해야함 -> 보안 강화(localhost:8080에서 안보임)
- OAuth 2.0 OpenID Connect를 사용해 사용자 및 클라이언트 애플레케이션의 API 접근을 인증하고 권한을 부여함. 
- OAuth는 비밀번호를 주지 않고도 다른 서비스에 내 계정을 연결할 수 있게 해주는 기술(인증 방식) - 출입증 : 토큰(QR 요청,QR을 받는게 출입증) => OAuth는 토큰을 주는 것
- 자원 소유자(resource owner)  : 최종 아이디
- KAKAO_REDIRECT_URI=http://localhost:8080/oauth2/kakao/callback : 카카오가 저 rui로 가래.
- Authen(인가) 
- Author(권한 부여) - 인증
- Auth - 인증 + 인가  => Authen 이후 대리급 등등 Author 가 필요함 => 인가 -> 인증 순서
- 철자가 e가 빠름 
- Author - 접근 토큰 access token(인증) - 구글, 카카오, 네이버, 인가는 우리가 해야함 
- refresh token 재발급토큰(은행 유효기간 10분 연장하는 거)
- redirect url :  
-  
- 구글에서 Oauth를 하기 위해, `클라이언트 ID`  와 `클라이언트 secret(비밀번호)` 값을 발급 받아야한다. https://console.cloud.google.com
- ![[Pasted image 20251126112036.png|300]]
- ![[Pasted image 20251126112321.png|300]]
- 아마존에서는 권한 Amazon Access Grant(=Author)
- Proof Key for Code Exchange = `PKCE` = `픽시`
- 모바일에서 숫자 주면 넘겨주는거.
- 스프링 클라우드 게이트웨이에 대한 접근을 보호한다.

- ![[Pasted image 20251126115213.png|1500]]
- 접근 토큰(Access Token) : jwt
- JWT는 JSON Web Token  = 제이슨으로 구현된 토큰
- JWT : `정보 자체`를 토큰 안에 넣어서 사용자에게 줌. eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30 이런 글자로 주니까 해커들이 해킹을 못함.
- JWT.io (형식은 똑같고 내용은 계속 바꿔서 접속 가능 유무만 판단함)
- jwt를 인간이 볼수 있게 바꾸는 거 Decoder, 그 반대는 Encode 인코드가 되게 하는 인코딩.
- jwt의 Header, body : PAYLOAD -> body를  (뜻 : 화물 - 내용물 - 어딘가에 담겨있어야 함, 배달하면 박스값 따로 안주는 거랑 같음)
- alg : 알고리즘, typ : 타입, claim(요구, 주장, 청구) table 
- 어디까지가 payload고 어디까지가 claim
- ![[Pasted image 20251126115952.png]]
- JSON,  claim : 제품 설명서, 송장(송장번호, 수취인, 배송일)
- OuthService - 권한 부여
- 키를 받아서 SSH처럼 줘야함.
- authorization 헤더로  전송되며  Bearer 접두사가 붙는다.
- 허가증 (author 이미 authen 거치고 2번째)

- 파이썬
- https://blog.jetbrains.com/ko/pycharm/2025/10/the-most-popular-python-frameworks-and-libraries-in-2025/
- FastAPI - Gateway에 API를 집어 넣는 개념
- fastapi는 cli 밖에 안됨
- 딥시크는 사실 클로드 였다
- 
- JDK - 환경변수
- NODE - 환경
- 아나콘다 - 환경 - 파이썬(뱀)
- ai 쓸거라서 아나콘다 미니콘다는 가볍게
- ![[Pasted image 20251126165251.png|300]]![[Pasted image 20251126165306.png|300]]
- ![[Pasted image 20251126165511.png|300]]
![[Pasted image 20251126174907.png]]
mkdir (make directory) 폴더 만들때
PS C:\Users\hi\Documents\project\my-project\ai.kanggyeonggu.store> python --version
Python 3.13.5
PS C:\Users\hi\Documents\project\my-project\ai.kanggyeonggu.store> conda --version
conda 25.5.1