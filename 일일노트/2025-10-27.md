## 9 : 20 ~ 10 : 30
-  `리액트` , `스프링(자바)`, `파이썬`, `DB(SQL)`  -> 이기종 언어 : `도커`위에 올릴 예정 + 리액트(화면)-> ai
- => 다 타입이 있음 => 타입이 다 같은 애들의 속성값이 (데이터가) 넘어가니까 4개다 같아야 함. = 타입은 객체가 있으니까 속성하고 기능을 다 가짐.
- `DB`, `리액트` => 속성(화면은 속성으로 정의됨)
- `스프링` `파이썬` => 기능
-  `도커 이미지 = 클래스 = 타입` => 속성과 기능을 가진다. 
-  DevOps = Dev 위에 개발자하는 사람 Ops(operate 밑에 개발자)
-  ![[Pasted image 20251027095134.png]]
-  도커 컨테이너는 도커 이미지로 부터 생성 되며, 도커 컨테이너에 대해 실행, 중지, 재실행, 삭제 등의 명령을 내릴 수 있습니다. <u>(=CRUD)</u>
- p82 4-7 pull = import 
- 도커 호스트 = localhost
- 도커 데몬 : 백그라운드에서 실행됨
- 도커 레지스터 = 레포지토리
- 도커 이미지 목록 = 리스트 = docker image ls(list)
- ![[Pasted image 20251027100840.png|400]] 
- 도커는 new 안해도 지알아서 만들고 run 조짐.
- ![[20251027_095356[1].jpg|300]]
- run : 실행
- -it  : 실행중인 상태에서 들어갈때 
- rm : 박스를 버리는 것
- image rm : import 된거 삭제
- 도커 이미지 변경 : 이미지 안에 들어 와서 바뀜.(요게 어려움)- 
## 10 : 30 ~ 11 : 20
- PostgreSQL DB(리액트, 파이썬 등등에) -> 도커에 설치 -> 실행과정
-  <도커 설치>
- docker run -d \
  --name cogirihub \                    # 컨테이너 이름 지정
  -e POSTGRES_USER=cogirihub \         # DB 사용자 이름
  -e POSTGRES_PASSWORD=12341234 \      # DB 비밀번호
  -e POSTGRES_DB=cogirihub \           # 생성할 DB 이름
  -p 5432:5432 \                        # 호스트(변경가능)와 컨테이너 포트(기본 포스트그리) 매핑
  -v ${HOME}\postgres_data:/var/lib/postgresql/data \  # 데이터 영속화(호스트 ↔ 컨테이너) -> ${HOME}\postgres_data(내pc주소) 컨테이너 내부에 있는 `/var/lib/postgresql/data` 폴더 와 매핑 해서 데이터를 보존 할수 있도록 한거
  postgres:15                           # 사용할 이미지와 태그

-  docker exec -it cogirihub bash(컨테이너 안에서 실행할 쉘) : **백그라운드로 실행 중이던 컨테이너 안으로 들어가서** 직접 명령어를 치고 조작
- psql -U cogirihub -d cogirihub (이게 정석인데 사용자 이름이랑 생성할 DB 이름이 같으면 -d cogirihub 안해야함)
- `-U cogirihub` → 접속할 **PostgreSQL 사용자 이름**    
- `-d cogirihub` → 접속할 **데이터베이스 이름**
- 첫 번째는 “PostgreSQL 서버를 설치할 때 기본 관리자 계정 비번 정하는 단계”  
두 번째는 “서버에 들어가서 직접 DB계정 비밀번호를 바꾸는 단계”예요.

## 14 : 30 ~ 15 : 20
- ![[20251027_151412[1].jpg|200]]
docker run -d \
  --name cogirihub \                    # 컨테이너 이름 지정
  -e POSTGRES_USER=cogirihub \         # DB 사용자 이름
  -e POSTGRES_PASSWORD=12341234 \      # DB 비밀번호
  -e POSTGRES_DB=cogirihub \           # 생성할 DB 이름
  -p 5432:5432 \                        # 호스트(변경가능)와 
				컨테이너 포트(기본 포스트그리) 매핑
  -v ${HOME}\postgres_data:/var/lib/postgresql/data \  # 데이터 영속화(호스트 ↔ 컨테이너) 

-> ${HOME}\postgres_data(내pc주소) 컨테이너 내부에 있는 
`/var/lib/postgresql/data` 폴더 와 매핑 해서 데이터를 보존 할수 있도록 한거

  postgres:15                           # 사용할 이미지와 태그

-  docker exec -it cogirihub bash(컨테이너 안에서 실행할 쉘) 
: **백그라운드로 실행 중이던 컨테이너 안으로 들어가서** 직접 명령어를 치고 조작

- psql -U cogirihub

- ALTER USER WITH PASSWORD '12341234';
도커 컨테이너 안에 포스트그리 의 비번을 바꾸는 명령어.

- docker exec -i <컨테이너이름> psql -U cogirihub -d cogirihub -c 
"\copy weather(datetime, avg_temperature, max_temperature, 
max_temp_time, min_temperature, min_temp_time, daily_range, precipitation) 
FROM '/static/csv/weather.csv' DELIMITER ',' CSV HEADER;"
docker exec -it cogirihub bash

- DROP TABLE IF EXISTS weather;
- CREATE TABLE weather (
    id SERIAL PRIMARY KEY,
    datetime TIMESTAMP NOT NULL,
    avg_temperature NUMERIC(5,2),
    max_temperature NUMERIC(5,2),
    max_temp_time VARCHAR(10),
    min_temperature NUMERIC(5,2),
    min_temp_time VARCHAR(10),
    daily_range NUMERIC(5,2),
    precipitation NUMERIC(5,2)
);

- \dt 테이블 확인
- docker cp "C:\Users\hi\Documents\project\api-server\src\main\resources
\static\csv\weather.csv"
 cogirihub:/tmp/weather.csv
 ![[Pasted image 20251027165558.png|500]]

- \copy weather(datetime, avg_temperature, max_temperature, max_temp_time,
 min_temperature, min_temp_time, daily_range, precipitation) 
FROM '/tmp/weather.csv' DELIMITER ',' CSV HEADER;
![[Pasted image 20251027170249.png|600]]
- SELECT * FROM weather LIMIT 10;

쉘에서 작업하는게 불편하니까 pgAdmin4 깜

## 17 : 20 ~ 18 : 20
- netstat -ano | findstr 5432
- 현재 사용 중인 네트워크 연결 상태를 확인하고, 그중 포트 번호 '5432'를 포함하는 줄만 필터링
- taskkill /PID 1552 /F
- 특정 PID(1552)를 가진 프로세스를 강제
- PID : Process ID, 고유하게 부여하는 번호