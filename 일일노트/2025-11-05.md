- 데코레이터 패턴은 ==객체에 새로운 책임을 덧붙이는 디자인 패턴이며, 케이크를 만드는 과정에 비유할 수 있습니다==. 빵 위에 초콜릿을 바르거나(초콜릿 케이크), 생크림과 과일을 올리는(과일 생크림 케이크) 것처럼, 기존의 '기본 케이크' 객체에 새로운 '데코레이터' 객체(초콜릿, 생크림, 과일 등)를 덧붙여 기능을 확장하는 것입니다. 
  데코레이터 패턴과 케이크의 비유
- 기본 케이크 (Component): '데코레이터'의 기본이 되는 객체입니다. 예를 들어, '기본 생크림 케이크'가 여기에 해당합니다.
- 데코레이터 (Decorator): 기본 케이크에 덧붙여 새로운 기능을 추가하는 객체입니다. 초콜릿, 생크림, 과일 등이 데코레이터 역할을 할 수 있습니다.
- 기능 확장: 기본 케이크에 데코레이터를 하나씩 덧붙여 새로운 기능을 추가합니다.
- 기본 생크림 케이크에 초콜릿을 바르면 '초콜릿 케이크'가 됩니다.
- 기본 생크림 케이크에 생크림과 과일을 올리면 '과일 생크림 케이크'가 됩니다.
-  ![[Pasted image 20251105094827.png|400]]
-  ![[Pasted image 20251105095158.png|400]]
- ![[Pasted image 20251105095356.png|400]] 
- 엔티티는 대부분 다른 엔티티와 연관관계가 있다.
- 엔티티 = 테이블
- 객체는 참조(주소)를 사용해서 관계를 맺고 테이블은 외래 키를 사용해서 관계를 맺는다. 
- ![[Pasted image 20251105101749.png]] 
- id, name 엔티티를 지키는 마지막 놈 ,entity는 엔티티로 들어가는 입구, 객체 있으면 Data
- 리액트가 어려운 이유 : 방향성이 안정해져 있어서 우리가 알아서 설정 해야함. - 규모가 크고 빠른 웹 페이지 
- 빌더 : 리소스(메모리 포함된 전체 자원)를 안씀
- DB도 방향성이 있다.  
- 자바 매핑, 리액트 바인딩 DB  
- 스칼라, 백터(방향성 있으면) 차이 : 방향성의 유무 ,  람다는 스칼라 백터 코드가 있으면 스칼라로 바꿔야함.= 방향성을 없앤다.
- private final repository 뭐시기 할때 방향성이 생기는 거고 그걸 지우면 방향성이 없어짐 , 그러면 스칼라로 값이 되는거고 이거 람다식.
- 데코레이터 패턴.
- ![[Pasted image 20251105105729.png]] 
- 첫번째 선은 단방향으로 걍 쭉 흘러가고 테이블간에 연결이 될때는 단방향, 양방향이 다됨
- 연관관계의 주인(오너): 객체(Entity)를 양방향 연관관계로 만들면 연관관계의 주인을 정해야 한다. 
- Controller 가 Service 거를 인스턴스를 가지고 있음. 서비스가 부모임. 뭔가 가지고 있는게 후보자 Repository Entity(최종 부모)
- 관계가 생기면 무조건 누가 부모가 되는데 그 부모를 오너라고 함. 
- DB는 아이디만를 가지고 있는데 TB는 전체 통만 가짐.(우리가 작업하는 건 TB쪽이고 실제 DB본질은 못 바꾸니까.)
- 오너를 정해주는게 단방향 
- 참조를 통한 연관관계는 언제나 단방향, 양방향 처럼 하고 싶으면 단방향을 2개 만들어라.
- 출발하는 놈이 자식임
- 교차 엔티티=크로스 엔티티 ![[Pasted image 20251105112136.png]]
- : 특정 기술 분야나 비즈니스 환경에서 `서로 다른 개체(Entity) 간의 상호작용 또는 연관성`을 의미하는 용어(행동 메디테이터 : 중재자)
- 트러블 슈터 : 개발 중에 에러 잡는 사람
- ![[Pasted image 20251105115301.png]]
- ![[Pasted image 20251105115516.png]]
- 순수 객체 : 어노테이션이 없는
- sql 키로 한다, 
- @JoinColumn 외래키를 매핑할 때 사용. -> 가급적 안쓰는게 나음, PKFK 같이 맞출때
- @ManyToOne=@Onetomany : 다대일 부모자식일 수도 있고 오너 관계일 수도 있음
- private List<Member members;  SQL 에서는 그냥 주면 되는데, 자바에서는  LIst<>로 받아와야함.
- ![[Pasted image 20251105120618.png]]
- JPQL : JAVA가 쓰는 SQL : JPA에서 사용하는 SQL
- (mappedBy="team") , team이 주인이 된다.
- 설계 : 교차 엔티티로
- p 225 다대다 연결 엔티티 -> 이거로 가는게 베스트임
- Member + Product => 멤버와 프로덕트  -> 구림 -> order
- 축구로 먼저하고, erd(4시,5시) , jpa, 대충 데이터 넣고 erd만 ok 하면 작업. 
- 유니크 키로 뺸다 중복될때
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 

